#!/usr/bin/env ruby
require "casper"
require "rainbow"

server = Casper::Proxy.new({:trace=>ARGV[0]})
puts "Tracing #{ARGV[0]}"
trap("INT") { server.shutdown }
trap("INFO") { server.info }
trap("USR1") { server.dump }
trap("USR2") { server.get_urls }
server.start
